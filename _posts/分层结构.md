> 在计算机领域，协议的设计都会采用分层结构。

![](/images/分层结构/1.png)

### 好处

1. 在协议层面作了分层，实现时自然而然的按照功能进行了分离，让概念更有层次感，更利于维护；
2. 让应用实现起来更容易了，比如 TCP/IP 中，处于应用层的应用只需要实现分内之事，无需弄清在地球上哪个地方、对方的传输路线是怎样的、是否能确保传输送达等问题；
3. 利于扩展，本质上来讲，Big One 分成了 A-D 层，那么一个 A 层也可以分成 A1-A4 层，分层结构让我们只需要保证输入和输出不变，内部实现自由化；
4. 除了对层的再分层扩展外，还可以在 AB 层之间增加扩展层，把 OutputA 自定义处理后再输出 InputB 交由 B 层处理。

### 疑惑

从计算机发展历程看，很多早起设计的协议一直沿用至今，这让人感到神奇，虽说分层结构降低了之后层内变动的成本，但是如何合理规划每层的接口部分，才能保证几十年后依然受用呢？
