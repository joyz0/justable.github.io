<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å¼•è¨€ | å¬é±¼çš„åšå®¢</title>
    <meta name="description" content="éšä¾¿ç©ç©">
    <meta name="generator" content="VuePress 1.3.1">
    
    
    <link rel="preload" href="/assets/css/0.styles.341cfc29.css" as="style"><link rel="preload" href="/assets/js/app.5e3841b9.js" as="script"><link rel="preload" href="/assets/js/2.1edaced0.js" as="script"><link rel="preload" href="/assets/js/9.1a1442ce.js" as="script"><link rel="prefetch" href="/assets/js/10.7ac06957.js"><link rel="prefetch" href="/assets/js/11.e0a8184b.js"><link rel="prefetch" href="/assets/js/12.b5e0b6e2.js"><link rel="prefetch" href="/assets/js/13.2580c330.js"><link rel="prefetch" href="/assets/js/14.11df41ad.js"><link rel="prefetch" href="/assets/js/15.4623af7a.js"><link rel="prefetch" href="/assets/js/16.ad1b7f2e.js"><link rel="prefetch" href="/assets/js/17.1a72550d.js"><link rel="prefetch" href="/assets/js/18.d30424da.js"><link rel="prefetch" href="/assets/js/19.2b5bbcc4.js"><link rel="prefetch" href="/assets/js/20.780b7594.js"><link rel="prefetch" href="/assets/js/21.b8a65c8a.js"><link rel="prefetch" href="/assets/js/22.6ce9c7a6.js"><link rel="prefetch" href="/assets/js/23.ac8ab4cb.js"><link rel="prefetch" href="/assets/js/24.590b995b.js"><link rel="prefetch" href="/assets/js/25.70008ead.js"><link rel="prefetch" href="/assets/js/26.9611253d.js"><link rel="prefetch" href="/assets/js/27.17c93ea5.js"><link rel="prefetch" href="/assets/js/28.3e7f694c.js"><link rel="prefetch" href="/assets/js/29.b3089a09.js"><link rel="prefetch" href="/assets/js/3.67118e1b.js"><link rel="prefetch" href="/assets/js/30.45ebe549.js"><link rel="prefetch" href="/assets/js/31.9f1734d4.js"><link rel="prefetch" href="/assets/js/32.c1b36e50.js"><link rel="prefetch" href="/assets/js/33.a427c904.js"><link rel="prefetch" href="/assets/js/34.9baf6de6.js"><link rel="prefetch" href="/assets/js/35.a44ea2c5.js"><link rel="prefetch" href="/assets/js/36.4b1f6010.js"><link rel="prefetch" href="/assets/js/37.e6ca7415.js"><link rel="prefetch" href="/assets/js/38.78f57eaf.js"><link rel="prefetch" href="/assets/js/39.978c3016.js"><link rel="prefetch" href="/assets/js/4.2e1350ce.js"><link rel="prefetch" href="/assets/js/40.30b74f4b.js"><link rel="prefetch" href="/assets/js/41.cb691c8c.js"><link rel="prefetch" href="/assets/js/42.118aa493.js"><link rel="prefetch" href="/assets/js/43.f7b903fc.js"><link rel="prefetch" href="/assets/js/44.497094f3.js"><link rel="prefetch" href="/assets/js/45.af4cd571.js"><link rel="prefetch" href="/assets/js/46.48f18bf8.js"><link rel="prefetch" href="/assets/js/47.60b9ebc9.js"><link rel="prefetch" href="/assets/js/48.c6a77eae.js"><link rel="prefetch" href="/assets/js/49.230d09cb.js"><link rel="prefetch" href="/assets/js/5.1924066d.js"><link rel="prefetch" href="/assets/js/50.a3157ce1.js"><link rel="prefetch" href="/assets/js/51.3001df38.js"><link rel="prefetch" href="/assets/js/52.7295b85b.js"><link rel="prefetch" href="/assets/js/53.6a5b510c.js"><link rel="prefetch" href="/assets/js/54.cfdb4f9a.js"><link rel="prefetch" href="/assets/js/55.718ca3bd.js"><link rel="prefetch" href="/assets/js/56.d5bdfd3b.js"><link rel="prefetch" href="/assets/js/57.8a90a4f9.js"><link rel="prefetch" href="/assets/js/58.5b06f55b.js"><link rel="prefetch" href="/assets/js/59.e94c5237.js"><link rel="prefetch" href="/assets/js/6.019215b7.js"><link rel="prefetch" href="/assets/js/60.e92c3de6.js"><link rel="prefetch" href="/assets/js/61.6b1f1d8c.js"><link rel="prefetch" href="/assets/js/62.b8e41f94.js"><link rel="prefetch" href="/assets/js/63.b2353616.js"><link rel="prefetch" href="/assets/js/64.bd837faf.js"><link rel="prefetch" href="/assets/js/65.40ea3388.js"><link rel="prefetch" href="/assets/js/66.6bbef0a2.js"><link rel="prefetch" href="/assets/js/67.5aa035ce.js"><link rel="prefetch" href="/assets/js/68.f7014561.js"><link rel="prefetch" href="/assets/js/69.e4c5b581.js"><link rel="prefetch" href="/assets/js/7.efe81113.js"><link rel="prefetch" href="/assets/js/70.27759fe5.js"><link rel="prefetch" href="/assets/js/71.cb45f79d.js"><link rel="prefetch" href="/assets/js/72.b3b22ff4.js"><link rel="prefetch" href="/assets/js/73.1172e9ff.js"><link rel="prefetch" href="/assets/js/74.1a17c85c.js"><link rel="prefetch" href="/assets/js/75.49a2eca6.js"><link rel="prefetch" href="/assets/js/76.6731985c.js"><link rel="prefetch" href="/assets/js/77.4cb6e617.js"><link rel="prefetch" href="/assets/js/78.fc3d0d25.js"><link rel="prefetch" href="/assets/js/79.b4125b06.js"><link rel="prefetch" href="/assets/js/8.788dfe16.js"><link rel="prefetch" href="/assets/js/80.e1493753.js"><link rel="prefetch" href="/assets/js/81.4528ed55.js"><link rel="prefetch" href="/assets/js/82.ef9a0833.js"><link rel="prefetch" href="/assets/js/83.0330d560.js"><link rel="prefetch" href="/assets/js/84.8c1b15a2.js"><link rel="prefetch" href="/assets/js/85.7a1c7b92.js"><link rel="prefetch" href="/assets/js/86.16c10e67.js"><link rel="prefetch" href="/assets/js/87.2b285d15.js"><link rel="prefetch" href="/assets/js/88.863e4305.js"><link rel="prefetch" href="/assets/js/89.37fdf4ee.js">
    <link rel="stylesheet" href="/assets/css/0.styles.341cfc29.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">å¬é±¼çš„åšå®¢</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/article/æµ…è°ˆJSä¸­çš„AST.html" class="nav-link">
  æ–‡ç« 
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åŸºç¡€çŸ¥è¯†" class="dropdown-title"><span class="title">åŸºç¡€çŸ¥è¯†</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/basic/html5/BrowsingContext.html" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/basic/css3/flex.html" class="nav-link">
  CSS3
</a></li><li class="dropdown-item"><!----> <a href="/basic/javascript/ä½œç”¨åŸŸ.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/basic/nodejs/ä½œç”¨åŸŸ.html" class="nav-link">
  NodeJS
</a></li><li class="dropdown-item"><!----> <a href="/basic/typescript/basic.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/basic/browser/cors.html" class="nav-link">
  Browser
</a></li><li class="dropdown-item"><!----> <a href="/basic/webpack/webpack4.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/basic/react/react-kernel.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/basic/vue/vue-loader.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/basic/minip/FAQ.html" class="nav-link">
  Minip
</a></li><li class="dropdown-item"><!----> <a href="/basic/network/TCPIP.html" class="nav-link">
  Network
</a></li><li class="dropdown-item"><!----> <a href="/basic/git/command.html" class="nav-link">
  Git
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/article/æµ…è°ˆJSä¸­çš„AST.html" class="nav-link">
  æ–‡ç« 
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åŸºç¡€çŸ¥è¯†" class="dropdown-title"><span class="title">åŸºç¡€çŸ¥è¯†</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/basic/html5/BrowsingContext.html" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/basic/css3/flex.html" class="nav-link">
  CSS3
</a></li><li class="dropdown-item"><!----> <a href="/basic/javascript/ä½œç”¨åŸŸ.html" class="nav-link">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/basic/nodejs/ä½œç”¨åŸŸ.html" class="nav-link">
  NodeJS
</a></li><li class="dropdown-item"><!----> <a href="/basic/typescript/basic.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/basic/browser/cors.html" class="nav-link">
  Browser
</a></li><li class="dropdown-item"><!----> <a href="/basic/webpack/webpack4.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/basic/react/react-kernel.html" class="nav-link">
  React
</a></li><li class="dropdown-item"><!----> <a href="/basic/vue/vue-loader.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/basic/minip/FAQ.html" class="nav-link">
  Minip
</a></li><li class="dropdown-item"><!----> <a href="/basic/network/TCPIP.html" class="nav-link">
  Network
</a></li><li class="dropdown-item"><!----> <a href="/basic/git/command.html" class="nav-link">
  Git
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/article/æµ…è°ˆJSä¸­çš„AST.html" class="sidebar-link">æµ…è°ˆJSä¸­çš„AST</a></li><li><a href="/article/å®ç°ä¸€ä¸ªç®€å•çš„WEBæ‰“åŒ…å·¥å…·.html" class="sidebar-link">å®ç°ä¸€ä¸ªç®€å•çš„WEBæ‰“åŒ…å·¥å…·</a></li><li><a href="/article/è§£ævue3çš„å“åº”å¼.html" class="sidebar-link">è§£ævue3çš„å“åº”å¼</a></li><li><a href="/article/é‡æ–°æ¢³ç†ES5å’ŒES6çš„ç»§æ‰¿.html" class="active sidebar-link">é‡æ–°æ¢³ç†ES5å’ŒES6çš„ç»§æ‰¿</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/article/é‡æ–°æ¢³ç†ES5å’ŒES6çš„ç»§æ‰¿.html#å¼•è¨€" class="sidebar-link">å¼•è¨€</a></li><li class="sidebar-sub-header"><a href="/article/é‡æ–°æ¢³ç†ES5å’ŒES6çš„ç»§æ‰¿.html#è„‘å­å¡å£³çš„åœ°æ–¹" class="sidebar-link">è„‘å­å¡å£³çš„åœ°æ–¹</a></li><li class="sidebar-sub-header"><a href="/article/é‡æ–°æ¢³ç†ES5å’ŒES6çš„ç»§æ‰¿.html#es5-çš„å‡ ç§ç»§æ‰¿æ–¹å¼" class="sidebar-link">ES5 çš„å‡ ç§ç»§æ‰¿æ–¹å¼</a></li><li class="sidebar-sub-header"><a href="/article/é‡æ–°æ¢³ç†ES5å’ŒES6çš„ç»§æ‰¿.html#es6-çš„ç»§æ‰¿æ–¹å¼" class="sidebar-link">ES6 çš„ç»§æ‰¿æ–¹å¼</a></li><li class="sidebar-sub-header"><a href="/article/é‡æ–°æ¢³ç†ES5å’ŒES6çš„ç»§æ‰¿.html#es6-ç»§æ‰¿ä¸-es5-ç»§æ‰¿çš„æ ¸å¿ƒå·®å¼‚" class="sidebar-link">ES6 ç»§æ‰¿ä¸ ES5 ç»§æ‰¿çš„æ ¸å¿ƒå·®å¼‚</a></li><li class="sidebar-sub-header"><a href="/article/é‡æ–°æ¢³ç†ES5å’ŒES6çš„ç»§æ‰¿.html#å›åˆ°æœ€åˆçš„ä¾‹å­" class="sidebar-link">å›åˆ°æœ€åˆçš„ä¾‹å­</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="å¼•è¨€"><a href="#å¼•è¨€" class="header-anchor">#</a> å¼•è¨€</h2> <p>åœ¨çœ‹ä¸€æ®µæºç æ—¶ï¼Œç«Ÿç„¶çœ‹æ‡µäº†ï¼Œå†³å®šå®Œæ•´æ¢³ç†ä¸‹ ES5 å’Œ ES6 çš„ç»§æ‰¿çŸ¥è¯†ã€‚</p> <p>æºç ç»“æ„æ˜¯è¿™æ ·çš„ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Foo</span> <span class="token keyword">extends</span> <span class="token class-name">Function</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>params <span class="token operator">=</span> params<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">apply</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> thisArg<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> target<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// hello</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>æˆ‘å°±æƒŠäº†ä¸ªå‘†ã€‚</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>ä¸ºäº†ä¾¿äºè¡¨è¿°ï¼Œåæ–‡ç»Ÿä¸€ç§°å‘¼ class å¼ç»§æ‰¿ä¸º ES6 ç»§æ‰¿ï¼Œprototype å¼ç»§æ‰¿ä¸º ES5 ç»§æ‰¿ã€‚</p></div> <h2 id="è„‘å­å¡å£³çš„åœ°æ–¹"><a href="#è„‘å­å¡å£³çš„åœ°æ–¹" class="header-anchor">#</a> è„‘å­å¡å£³çš„åœ°æ–¹</h2> <p>æˆ‘æƒŠå‘†äº†å¿…ç„¶æ˜¯ç”±äºå¯¹æŸä¸ªåŸºç¡€çŸ¥è¯†æ²¡æœ‰å®Œå…¨ç†é¡ºï¼Œæˆ‘å¸Œæœ›è‡ªå·±èƒ½ä»åŸºç¡€çŸ¥è¯†å‡ºå‘ï¼Œè‡ªç„¶è€Œç„¶çš„ç†è§£è¿™æ®µä»£ç ï¼Œè€Œä¸æ˜¯ä»ä»£ç çš„æœ€ç»ˆæ•ˆæœåæ¨ä¸€äº›åŸç†ç‰¹æ€§ã€‚å› æ­¤æœ¬æ–‡é‡æ–°æ¢³ç†ä¸€ä¸‹ ES5 å’Œ ES6 çš„ç»§æ‰¿ã€‚å…³äºåŸå‹é“¾å°±ä¸æ¢³ç†äº†ï¼Œå®ƒåœ¨æˆ‘è„‘ä¸­å·²ç»æ¢³ç†çš„ä¸èƒ½å†é¡ºäº† ğŸ˜‚ã€‚</p> <p>è¯´å‡ºè¿™æ®µæºç çš„ç›®çš„å¹¶ä¸éš¾ï¼Œåªè¦ä¸€è¿è¡Œçœ‹ä¸‹æ•ˆæœå°±çŸ¥é“äº†ï¼Œæ•ˆæœæ˜¯ä½¿å¾—æ‰€æœ‰çš„ Foo å®ä¾‹æ˜¯ Callable çš„ï¼Œå¹¶ä¸”è°ƒç”¨æ—¶ä¼šæ‰§è¡Œ handle æ–¹æ³•ã€‚</p> <p>ä½†æ˜¯ Foo çš„å®ä¾‹ foo ä¸ºä»€ä¹ˆæ˜¯ä¸ªå‡½æ•°ï¼Œå°±å› ä¸ºç»§æ‰¿äº† Functionï¼Ÿæˆ‘æ¥ç€ä½¿ç”¨ ES5 çš„â€œå¯„ç”Ÿç»„åˆå¼ç»§æ‰¿â€æ–¹å¼<a href="#%E5%9B%9E%E5%88%B0%E6%9C%80%E5%88%9D%E7%9A%84%E4%BE%8B%E5%AD%90">å®ç°äº†ä¸€é</a>ä¸Šè¿°ä»£ç ï¼Œå‘ç°è¿è¡Œç»“æœä¸åŒã€‚</p> <h2 id="es5-çš„å‡ ç§ç»§æ‰¿æ–¹å¼"><a href="#es5-çš„å‡ ç§ç»§æ‰¿æ–¹å¼" class="header-anchor">#</a> ES5 çš„å‡ ç§ç»§æ‰¿æ–¹å¼</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>JS ä¸­çš„æ‰€æœ‰ function éƒ½ç»§æ‰¿è‡ª Functionï¼Œæ‰€ä»¥<code>customFunc.__proto__ === Function.prototype</code>ï¼Œä½†åŸºäº class çš„ ES6 ç»§æ‰¿åˆ™ä¸åŒï¼Œ<a href="#es6-%E7%BB%A7%E6%89%BF%E4%B8%8E-es5-%E7%BB%A7%E6%89%BF%E7%9A%84%E6%A0%B8%E5%BF%83%E5%B7%AE%E5%BC%82">åæ–‡</a>ä¼šè¯´æ˜ã€‚</p></div> <p>ç»§æ‰¿è¦è¾¾åˆ°ä¸¤ç‚¹ï¼š</p> <ol><li>çˆ¶ç±»çš„å®ä¾‹å±æ€§è¢«ç»§æ‰¿</li> <li>çˆ¶ç±»çš„åŸå‹æ–¹æ³•è¢«ç»§æ‰¿</li></ol> <p>é¦–å…ˆå®šä¹‰ä¸€ä¸ªçˆ¶ç±»ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>sign <span class="token operator">=</span> <span class="token string">&quot;Person&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">logName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>sign<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)åå­—: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿"><a href="#å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿" class="header-anchor">#</a> å€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Singer</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> debut</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>sign <span class="token operator">=</span> <span class="token string">&quot;Singer&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>debut <span class="token operator">=</span> debut<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Singer</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">logDebut</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>sign<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)å‡ºé“å¹´ä»½: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>debut<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> jay <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singer</span><span class="token punctuation">(</span><span class="token string">&quot;Jay&quot;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jay<span class="token punctuation">.</span><span class="token function">logDebut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (Singer)å‡ºé“å¹´ä»½: 2000</span>
jay<span class="token punctuation">.</span><span class="token function">logName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// jay.logName is not a function</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>æ²¡æœ‰ç»§æ‰¿çˆ¶ç±»çš„åŸå‹æ–¹æ³•</p> <h3 id="åŸå‹é“¾ç»§æ‰¿"><a href="#åŸå‹é“¾ç»§æ‰¿" class="header-anchor">#</a> åŸå‹é“¾ç»§æ‰¿</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Singer</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> debut</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>sign <span class="token operator">=</span> <span class="token string">&quot;Singer&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span> <span class="token comment">// éœ€è¦å¢åŠ è¿™ä¸€è¡Œ</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>debut <span class="token operator">=</span> debut<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Singer</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Singer</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constuctor <span class="token operator">=</span> Singer<span class="token punctuation">;</span>
<span class="token class-name">Singer</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">logDebut</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>sign<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)å‡ºé“å¹´ä»½: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>debut<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> jay <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singer</span><span class="token punctuation">(</span><span class="token string">&quot;Jay&quot;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jay<span class="token punctuation">.</span><span class="token function">logDebut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (Singer)å‡ºé“å¹´ä»½: 2000</span>
jay<span class="token punctuation">.</span><span class="token function">logName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (Singer)åå­—: Jay</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>æ— æ³•è‡ªåŠ¨ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§ï¼Œå¾—åœ¨å­ç±»ä¸­æ‰‹åŠ¨é‡æ–°å®šä¹‰ä¸€éï¼Œå¹¶ä¸”å­ç±»çš„åŸå‹ä¼šå‡ºç°çˆ¶ç±»çš„å®ä¾‹å±æ€§</p> <h3 id="ç»„åˆç»§æ‰¿"><a href="#ç»„åˆç»§æ‰¿" class="header-anchor">#</a> ç»„åˆç»§æ‰¿</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Singer</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> debut</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>sign <span class="token operator">=</span> <span class="token string">&quot;Singer&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>debut <span class="token operator">=</span> debut<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Singer</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Singer</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constuctor <span class="token operator">=</span> Singer<span class="token punctuation">;</span>
<span class="token class-name">Singer</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">logDebut</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>sign<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)å‡ºé“å¹´ä»½: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>debut<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> jay <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singer</span><span class="token punctuation">(</span><span class="token string">&quot;Jay&quot;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jay<span class="token punctuation">.</span><span class="token function">logDebut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (Singer)å‡ºé“å¹´ä»½: 2000</span>
jay<span class="token punctuation">.</span><span class="token function">logName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (Singer)åå­—: Jay</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>æ²¡æœ‰å®Œå…¨è§£å†³â€œåŸå‹é“¾ç»§æ‰¿â€çš„é—®é¢˜ï¼Œå­ç±»çš„åŸå‹ä¼šå‡ºç°çˆ¶ç±»çš„å®ä¾‹å±æ€§</p> <p><img src="/assets/img/inherit_2.d5ac7c51.png" alt=""></p> <h3 id="å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿"><a href="#å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿" class="header-anchor">#</a> å¯„ç”Ÿç»„åˆå¼ç»§æ‰¿</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Singer</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> debut</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>sign <span class="token operator">=</span> <span class="token string">&quot;Singer&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>debut <span class="token operator">=</span> debut<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Singer</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Singer</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constuctor <span class="token operator">=</span> Singer<span class="token punctuation">;</span>
<span class="token class-name">Singer</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">logDebut</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>sign<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)å‡ºé“å¹´ä»½: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>debut<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> jay <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singer</span><span class="token punctuation">(</span><span class="token string">&quot;Jay&quot;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jay<span class="token punctuation">.</span><span class="token function">logDebut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (Singer)å‡ºé“å¹´ä»½: 2000</span>
jay<span class="token punctuation">.</span><span class="token function">logName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (Singer)åå­—: Jay</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>è§£å†³äº†ä¸Šè¿°é—®é¢˜ï¼Œæ­¤æ–¹æ³•ä¹Ÿæ˜¯ ES5 ä¸­æ¯”è¾ƒæˆç†Ÿçš„ç»§æ‰¿æ–¹å¼</p> <p><img src="/assets/img/inherit_2.d5ac7c51.png" alt=""></p> <h2 id="es6-çš„ç»§æ‰¿æ–¹å¼"><a href="#es6-çš„ç»§æ‰¿æ–¹å¼" class="header-anchor">#</a> ES6 çš„ç»§æ‰¿æ–¹å¼</h2> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  sign <span class="token operator">=</span> <span class="token string">&quot;Person&quot;</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">logName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>sign<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)åå­—: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Singer</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  sign <span class="token operator">=</span> <span class="token string">&quot;Singer&quot;</span><span class="token punctuation">;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> debut</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>debut <span class="token operator">=</span> debut<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">logDebut</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>sign<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)å‡ºé“å¹´ä»½: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>debut<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> jay <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singer</span><span class="token punctuation">(</span><span class="token string">&quot;Jay&quot;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
jay<span class="token punctuation">.</span><span class="token function">logDebut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (Singer)å‡ºé“å¹´ä»½: 2000</span>
jay<span class="token punctuation">.</span><span class="token function">logName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// (Singer)åå­—: Jay</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><img src="/assets/img/inherit_3.5014085e.png" alt=""></p> <p>ES6 ç»§æ‰¿ä¸­çš„ class ä¸åŒäº Java çš„ classï¼Œå®ƒåªæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ï¼Œæœ¬è´¨ä¾ç„¶æ˜¯åŸºäº prototype çš„ï¼Œä½†æ¯” ES5 ç»§æ‰¿æ›´ç›´è§‚å’Œç®€æ´ï¼Œå¹¶ä¸”åªèƒ½é€šè¿‡ new å…³é”®å­—åˆ›å»ºã€‚</p> <h2 id="es6-ç»§æ‰¿ä¸-es5-ç»§æ‰¿çš„æ ¸å¿ƒå·®å¼‚"><a href="#es6-ç»§æ‰¿ä¸-es5-ç»§æ‰¿çš„æ ¸å¿ƒå·®å¼‚" class="header-anchor">#</a> ES6 ç»§æ‰¿ä¸ ES5 ç»§æ‰¿çš„æ ¸å¿ƒå·®å¼‚</h2> <p>åœ¨ ES5 ç»§æ‰¿ä¸­ï¼Œä¼šä¼˜å…ˆåˆ›å»ºå­ç±»çš„å®ä¾‹å¯¹è±¡ thisï¼Œå†é€šè¿‡<code>Person.call(this)</code>å°†çˆ¶ç±»æ„é€ å‡½æ•°ä¸­çš„å®ä¾‹å±æ€§é™„åŠ åˆ°è¿™ä¸ª this ä¸Šï¼›</p> <p>åœ¨ ES6 ç»§æ‰¿ä¸­ï¼Œä¼šé€šè¿‡<code>super()</code>è¿½æº¯åˆ°æœ€é¡¶å±‚çš„æ„é€ å‡½æ•°ï¼Œä¼˜å…ˆåˆ›å»ºé¡¶å±‚çš„å®ä¾‹å¯¹è±¡ thisï¼Œå†é€šè¿‡å­ç±»çš„æ„é€ å‡½æ•°ä¿®æ”¹è¿™ä¸ª thisã€‚</p> <p>é™¤äº† this çš„ä¸åŒï¼Œè¿˜æœ‰ä¸ªä¸èƒ½å¿½è§†çš„åŒºåˆ«ï¼ŒES6 ç»§æ‰¿ä¸­ï¼Œå­ç±»çš„<code>__proto__</code>å°†æŒ‡å‘çˆ¶ç±»<code>Person</code>ï¼Œè€Œä¸æ˜¯<code>Function.prototype</code>ã€‚</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// å¯„ç”Ÿç»„åˆäº‹ç»§æ‰¿</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Singer<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token comment">// ES6 ç»§æ‰¿</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Singer<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="å›åˆ°æœ€åˆçš„ä¾‹å­"><a href="#å›åˆ°æœ€åˆçš„ä¾‹å­" class="header-anchor">#</a> å›åˆ°æœ€åˆçš„ä¾‹å­</h2> <p>æœ€å¼€å§‹çš„ä¾‹å­ï¼Œå¦‚æœç”¨ ES5 ç»§æ‰¿å¦‚ä½•å®ç°ï¼Ÿ</p> <p>æˆ‘çš„ç¬¬ä¸€ç›´è§‰æ˜¯è¿™ä¹ˆå†™çš„ï¼š</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Function</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>params <span class="token operator">=</span> params<span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">apply</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> thisArg<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> target<span class="token punctuation">.</span><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Foo<span class="token punctuation">;</span>
Foo<span class="token punctuation">.</span>prorotype<span class="token punctuation">.</span><span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// foo is not a function</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>å’‹ä¸€çœ‹æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†æ˜¯è¿è¡Œå‡ºé”™äº†ï¼ŒåŸå› æ­£æ˜¯ ES5 ç»§æ‰¿å’Œ ES6 ç»§æ‰¿çš„ this åˆ›å»ºæ—¶æœºä¸åŒå¯¼è‡´ï¼ŒES5 ç»§æ‰¿çš„ this æ˜¯åœ¨ Foo çš„æ„é€ å‡½æ•°ä¸­åˆ›å»ºçš„ï¼Œæœ€ç»ˆæ˜¯ä¸ªå¯¹è±¡ï¼›ES6 ç»§æ‰¿çš„ this æ˜¯åœ¨é¡¶å±‚ Function çš„æ„é€ å‡½æ•°ä¸­åˆ›å»ºçš„ï¼Œæœ€ç»ˆæ˜¯ä¸ªå‡½æ•°ã€‚</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/article/è§£ævue3çš„å“åº”å¼.html" class="prev">
        è§£ævue3çš„å“åº”å¼
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5e3841b9.js" defer></script><script src="/assets/js/2.1edaced0.js" defer></script><script src="/assets/js/9.1a1442ce.js" defer></script>
  </body>
</html>
