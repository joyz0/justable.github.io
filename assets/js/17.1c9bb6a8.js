(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{256:function(e,r,t){e.exports=t.p+"assets/img/1.95bd84b9.jpg"},324:function(e,r,t){"use strict";t.r(r);var a=t(28),s=Object(a.a)({},(function(){var e=this,r=e.$createElement,a=e._self._c||r;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"å‡ ä¸ª-demo"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‡ ä¸ª-demo"}},[e._v("#")]),e._v(" å‡ ä¸ª demo")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"./src/demo1"}},[e._v("demo1: åªè½¬æ¢ç®­å¤´å‡½æ•°")])]),e._v(" "),a("li",[a("a",{attrs:{href:"./src/demo2"}},[e._v("demo2: åœ¨ä»£ç ä¸­ä½¿ç”¨")])]),e._v(" "),a("li",[a("a",{attrs:{href:"./src/demo3"}},[e._v("demo3: ä½¿ç”¨@babel/preset-env ç®€åŒ–é…ç½®")])]),e._v(" "),a("li",[a("a",{attrs:{href:"./src/demo4"}},[e._v("demo4: ä½¿ç”¨@babel/plugin-transform-runtime")])]),e._v(" "),a("li",[a("a",{attrs:{href:"./src/react"}},[e._v("react")])]),e._v(" "),a("li",[a("a",{attrs:{href:"./src/webpack"}},[e._v("webpack")])])]),e._v(" "),a("h2",{attrs:{id:"babel-èƒ½åšä»€ä¹ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-èƒ½åšä»€ä¹ˆ"}},[e._v("#")]),e._v(" babel èƒ½åšä»€ä¹ˆ")]),e._v(" "),a("ul",[a("li",[e._v("è½¬æ¢è¯­æ³•ï¼ˆä¾èµ– plugins/presetï¼‰")]),e._v(" "),a("li",[e._v("é™çº§å®ç°æ–°ç‰¹æ€§ï¼ˆä¾èµ–@babel/polyfillï¼‰")]),e._v(" "),a("li",[e._v("è½¬æ¢é‡æ„æºç  (ä¾èµ– codemods)")])]),e._v(" "),a("p",[e._v("âš ï¸transform æ˜¯ string->stringï¼Œparse æ˜¯ string->objectã€‚"),a("br"),e._v("\nâš ï¸babel çš„é…ç½®ä¼˜å…ˆè¯»å–å½“å‰ç›®å½•ï¼Œå¹¶åƒä¸Šå±‚æŸ¥æ‰¾ï¼Œç›´åˆ° package.json æ‰€åœ¨ç›®å½•æˆ– babelrc=falseã€‚")]),e._v(" "),a("h2",{attrs:{id:"æ ¸å¿ƒ-npm-åŒ…"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ ¸å¿ƒ-npm-åŒ…"}},[e._v("#")]),e._v(" æ ¸å¿ƒ npm åŒ…")]),e._v(" "),a("ul",[a("li",[e._v("@babel/core")]),e._v(" "),a("li",[e._v("@babel/cli")]),e._v(" "),a("li",[e._v("@babel/polyfill")]),e._v(" "),a("li",[e._v("@babel/presets")]),e._v(" "),a("li",[e._v("@babel/plugins")]),e._v(" "),a("li",[e._v("@babel/helpers")]),e._v(" "),a("li",[e._v("@babel/plugin-transform-runtimeï¼Œ@babel/runtimeï¼Œ@babel/runtime-corejs2ï¼Œ@babel/runtime-corejs3")])]),e._v(" "),a("h3",{attrs:{id:"babel-core"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-core"}},[e._v("#")]),e._v(" @babel/core")]),e._v(" "),a("p",[e._v("åŒ…å«äº†æ ¸å¿ƒçš„è½¬æ¢é€»è¾‘ï¼Œéœ€è¦å¯¹åº”çš„ plugins/preset æ‰èƒ½å‘æŒ¥ä½œç”¨")]),e._v(" "),a("h3",{attrs:{id:"babel-cli"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-cli"}},[e._v("#")]),e._v(" @babel/cli")]),e._v(" "),a("p",[e._v("è®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨ terminal ä¸­ä»¥å‘½ä»¤è¡Œçš„æ–¹å¼æ“ä½œ babel")]),e._v(" "),a("h3",{attrs:{id:"babel-polyfill"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-polyfill"}},[e._v("#")]),e._v(" @babel/polyfill")]),e._v(" "),a("p",[e._v("åŒ…å«äº† corejs å’Œ regenerator è¿™ä¸¤ä¸ªç¬¬ä¸‰æ–¹åŒ…ï¼Œä¸ä¼šå¯¼å…¥å°äº stage 4 çš„ç‰¹æ€§ï¼Œé»˜è®¤ä¸º core-js2ã€‚ä¸åŒäº plugins å¯¹è¯­æ³•çš„è½¬æ¢ï¼Œpolyfill æ˜¯å¯¹æ–°å®ä¾‹ç‰¹æ€§çš„é™çº§å®ç°ï¼ŒåŒæ–¹æ˜¯äº’è¡¥çš„å…³ç³»ã€‚babel7.4.0 å@babel/polyfill è¢«æ ‡è®°ä¸º deprecatedï¼Œæ¨èæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ corejs å’Œ regeneratorã€‚")]),e._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"core-js/stable"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("import")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"regenerator-runtime/runtime"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("p",[e._v("âš ï¸ åœ¨ä¸€ä¸ªå¼€æºçš„ library ä¸­å¹¶ä¸æ¨èä½¿ç”¨å®ƒã€‚"),a("br"),e._v("\nâš ï¸ é€šå¸¸æˆ‘ä»¬éœ€è¦åœ¨ entry ä¸­æ‰‹åŠ¨å¼•å…¥ polyfillï¼Œå½“ä½¿ç”¨ babel-node æ—¶ä¼šè‡ªåŠ¨å¼•å…¥ã€‚"),a("br"),e._v("\nâš ï¸ polyfill ä¼šç›´æ¥ä¿®æ”¹å…¨å±€å˜é‡ï¼ˆæ¯”å¦‚ Arrayï¼ŒString ç­‰ï¼‰prototypeï¼ŒæŸç§æ„ä¹‰ä¸Šæ±¡æŸ“äº†å…¨å±€ç¯å¢ƒï¼Œå¦‚æœæˆ‘ä»¬ä¸å¸Œæœ›æ±¡æŸ“å…¨å±€å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨@babel/plugin-transform-runtimeã€‚")]),e._v(" "),a("h3",{attrs:{id:"babel-presets"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-presets"}},[e._v("#")]),e._v(" @babel/presets")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("ğŸŒŸ@babel/preset-env"),a("br"),e._v("\né»˜è®¤ä¼šæ ¹æ®"),a("a",{attrs:{href:"https://github.com/browserslist/browserslist#queries",target:"_blank",rel:"noopener noreferrer"}},[e._v("Browserslist"),a("OutboundLink")],1),e._v("å¼•å…¥å¯¹åº” ES2015+ç‰ˆæœ¬çš„ polyfillsï¼Œé™¤éæŒ‡å®šäº† targets æˆ– ignoreBrowserslistConfigã€‚\nåŒ…å«äº† pluginsï¼Œä¼šæ ¹æ® useBuiltIns é€‰é¡¹å†³å®šä»¥ä½•ç§æ–¹å¼å¼•å…¥@babel/polyfillï¼Œå½“ useBuiltIns=true æ—¶è¦æŒ‡å®š corejs çš„ç‰ˆæœ¬ã€‚"),a("br"),e._v("\nè¿˜æœ‰è®¸å¤šå…¶ä»–çš„"),a("a",{attrs:{href:"https://babeljs.io/docs/en/babel-preset-env#targets",target:"_blank",rel:"noopener noreferrer"}},[e._v("å‚æ•°é…ç½®"),a("OutboundLink")],1),e._v("ã€‚")])]),e._v(" "),a("li",[a("p",[e._v("@babel/preset-react")])]),e._v(" "),a("li",[a("p",[e._v("@babel/preset-typescript")])])]),e._v(" "),a("h3",{attrs:{id:"babel-plugins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-plugins"}},[e._v("#")]),e._v(" @babel/plugins")]),e._v(" "),a("p",[e._v("æˆ‘ä»¬è¿™é‡Œä»£æŒ‡ä¸€ç³»åˆ— plugin åŒ…ï¼Œå½“æˆ‘ä»¬ç²¾ç¡®çŸ¥é“é¡¹ç›®éœ€è¦å“ªç§è¯­æ³•ç‰¹æ€§æ—¶ï¼Œå¯ä»¥å•ç‹¬å¼•å…¥æ‰€å¯¹åº”çš„ plugin åŒ…ä»¥å‡å°‘æœ€ç»ˆæ‰“åŒ…ä½“ç§¯ã€‚"),a("br"),e._v("\nâš ï¸ é…ç½®æ–‡ä»¶ä¸­çš„ plugins æ•°ç»„æ‰§è¡Œé¡ºåºä»å·¦åˆ°å³ï¼Œpresets æ•°ç»„æ‰§è¡Œé¡ºåºä»å³åˆ°å·¦ã€‚"),a("br"),e._v("\nå½“æˆ‘ä»¬éœ€è¦çŸ¥é“æŸä¸ª plugin åŒ…æ‰€å¯¹åº”çš„ options æ—¶ï¼Œå¯ä»¥å‚è€ƒ"),a("a",{attrs:{href:"https://babeljs.io/docs/en/options",target:"_blank",rel:"noopener noreferrer"}},[e._v("å®˜ç½‘"),a("OutboundLink")],1),e._v("æˆ–å»æºç å¤„æŸ¥çœ‹\n"),a("img",{attrs:{src:t(256),alt:""}})]),e._v(" "),a("h3",{attrs:{id:"babel-helpers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-helpers"}},[e._v("#")]),e._v(" @babel/helpers")]),e._v(" "),a("p",[e._v("ä¸€ç³»åˆ—å·¥å…·ï¼Œæ¯”å¦‚ class è¯­æ³•çš„å®ç°å°±æ˜¯ helper æä¾›çš„")]),e._v(" "),a("h3",{attrs:{id:"babel-plugin-transform-runtimeï¼Œ-babel-runtimeï¼Œ-babel-runtime-corejs2ï¼Œ-babel-runtime-corejs3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#babel-plugin-transform-runtimeï¼Œ-babel-runtimeï¼Œ-babel-runtime-corejs2ï¼Œ-babel-runtime-corejs3"}},[e._v("#")]),e._v(" @babel/plugin-transform-runtimeï¼Œ@babel/runtimeï¼Œ@babel/runtime-corejs2ï¼Œ@babel/runtime-corejs3")]),e._v(" "),a("p",[e._v("@babel/plugin-transform-runtime ä¸»è¦åšä¸‰ä»¶äº‹")]),e._v(" "),a("ol",[a("li",[e._v("åŸæœ¬å†…åµŒåœ¨æ¯ä¸ªæ–‡ä»¶çš„ helpers æ”¹æˆæ¨¡å—å¼•ç”¨çš„æ–¹å¼ï¼ˆéœ€è¦å¼€å¯ helpers é€‰é¡¹ï¼Œé»˜è®¤å¼€å¯ï¼‰ï¼Œå‡å°‘ä»£ç ä½“ç§¯ï¼Œä¾èµ–@babel/runtimeï¼›")]),e._v(" "),a("li",[e._v("åŸæœ¬è½¬æ¢ generator å’Œ async è¯­æ³•åæš´éœ²åœ¨å…¨å±€ç¯å¢ƒä¸­çš„ regeneratorRuntimeï¼ˆregenerator-runtime åŒ…æä¾›ï¼‰æ”¹ä¸ºæ¨¡å—å¼•ç”¨çš„æ–¹å¼ï¼ˆéœ€è¦å¼€å¯ regenerator é€‰é¡¹ï¼Œé»˜è®¤å¼€å¯ï¼‰ï¼Œä¾èµ–@babel/runtimeï¼›")]),e._v(" "),a("li",[e._v("åŸæœ¬ç”±äº core-js æš´éœ²åœ¨å…¨å±€ç¯å¢ƒä¸­çš„ polyfill ç‰¹æ€§ï¼ˆæ¯”å¦‚ Array.prototype.includesï¼‰æ”¹æˆæ¨¡å—å¼•ç”¨çš„æ–¹å¼ï¼ˆéœ€è¦å¼€å¯ corejs é€‰é¡¹ï¼Œé»˜è®¤å…³é—­ï¼‰ï¼Œä¾èµ–@babel/runtime-corejs2 æˆ–@babel/runtime-corejs3ã€‚")])]),e._v(" "),a("blockquote",[a("p",[e._v("å…³äº helpersã€generatorã€polyfill çš„å¼•ç”¨æ–¹å¼â€”â€”â€”å…¨å±€æ±¡æŸ“ã€å±€éƒ¨å¼•ç”¨ã€ä»£ç å†…åµŒï¼Œåœ¨ webpack å’Œ rollup ä½¿ç”¨æ—¶è¦åˆ†å¼€äº†è§£ï¼Œä¸ç„¶å¤ªä¹±äº†ã€‚ã€‚rollup æœ‰ä¸€ä¸ªé¢å¤–çš„ rollup-plugin-babelï¼Œè™½è¯´ä¼šé‡‡ç”¨æœ¬åœ°çš„ .babelrc æ–‡ä»¶ä¸­çš„é…ç½®ï¼Œä½†åˆé¢å¤–å¢åŠ äº†ä¸€äº›é€‰é¡¹ï¼Œè€Œæœ‰äº›é€‰é¡¹åˆæ˜¯å’Œ @babel/plugin-transform-runtime ä¸­çš„é‡å¤çš„ï¼Œæ¯”å¦‚ @babel/plugin-transform-runtime ä¸­ helpers é»˜è®¤æ˜¯ tru e çš„ï¼Œä½†åœ¨ rollup ä¸­éœ€è¦å¼€å¯ runtimeHelpersï¼›ç±»ä¼¼çš„è¿˜æœ‰ externalHelpersï¼Œå®ƒçš„æ•ˆæœæ˜¯å˜æˆå…¨å±€æ±¡æŸ“æ¨¡å¼ã€‚")])]),e._v(" "),a("h2",{attrs:{id:"å¸¸ç”¨é…ç½®"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¸¸ç”¨é…ç½®"}},[e._v("#")]),e._v(" å¸¸ç”¨é…ç½®")]),e._v(" "),a("h4",{attrs:{id:"spec"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#spec"}},[e._v("#")]),e._v(" spec")]),e._v(" "),a("p",[e._v("boolean, defaults to false\nä½œç”¨äº@babel/plugin-transform-arrow-function")]),e._v(" "),a("ol",[a("li",[e._v("ä¸ºæ–¹æ³•ç»‘å®šäº†ä¸å®šä¹‰åŒå±‚ context çš„ this")]),e._v(" "),a("li",[e._v("æ ¡éªŒäº†æ˜¯å¦è¢«ç”¨ä½œäº new å®ä¾‹")]),e._v(" "),a("li",[e._v("ä¸ºæ–¹æ³•å¢åŠ äº† name")])]),e._v(" "),a("h4",{attrs:{id:"loose"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loose"}},[e._v("#")]),e._v(" loose")]),e._v(" "),a("p",[e._v("boolean, defaults to false\né»˜è®¤è½¬æ¢ class æ—¶ï¼Œä¼šé€šè¿‡ Object.defineProperty æ¥å®šä¹‰ prototype ä¸­çš„æ–¹æ³•ï¼Œå¹¶è®¾ç½®æˆ non-enumerableï¼ˆè¿™æ˜¯ ES6 çš„è¦æ±‚ï¼‰ã€‚å¦‚æœå®é™…é¡¹ç›®ä¸­ä¸ä¾èµ– non-enumerable è¿™ä¸ªç‰¹æ€§ï¼Œåˆ™ loose=true ä¼šå‡å°‘ä»£ç ä½“ç§¯ã€‚")]),e._v(" "),a("h4",{attrs:{id:"usebuiltins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#usebuiltins"}},[e._v("#")]),e._v(" useBuiltIns")]),e._v(" "),a("p",[e._v("é»˜è®¤ä¸æŒ‡å®š\nä½œç”¨äºåœ¨ webpack ä¸‹ä½¿ç”¨ babel æ—¶ï¼Œæ§åˆ¶@babel/preset-env ä»¥ä½•ç§æ–¹å¼å¼•å…¥@babel/polyfillï¼Œ")]),e._v(" "),a("ol",[a("li",[e._v("ä¸æŒ‡å®š")])]),e._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[e._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"@babel/polyfill"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"./app/js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[e._v("usageï¼šä¸ç”¨åœ¨ entry ä¸­æ‰‹åŠ¨å¼•å…¥ï¼Œbabel ä¼šæ ¹æ®å®é™…ä½¿ç”¨çš„ç‰¹æ€§å¼•å…¥ç›¸å¯¹åº”çš„ polyfill")]),e._v(" "),a("li",[e._v("entryï¼šéœ€è¦æˆ‘ä»¬åœ¨ entry ä¸­æ‰‹åŠ¨é€šè¿‡ import/require çš„å½¢å¼å¼•å…¥")])]),e._v(" "),a("h2",{attrs:{id:"ä½¿ç”¨æ–¹å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä½¿ç”¨æ–¹å¼"}},[e._v("#")]),e._v(" ä½¿ç”¨æ–¹å¼")]),e._v(" "),a("ul",[a("li",[e._v("é€šè¿‡å‘½ä»¤è¡Œè½¬æ¢")]),e._v(" "),a("li",[e._v("ç›´æ¥åœ¨ä»£ç ä¸­è½¬æ¢")]),e._v(" "),a("li",[e._v("ä½¿ç”¨ webpack å’Œ babel-loader")])]),e._v(" "),a("h2",{attrs:{id:"è‡ªå®šä¹‰-preset"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è‡ªå®šä¹‰-preset"}},[e._v("#")]),e._v(" è‡ªå®šä¹‰ preset")]),e._v(" "),a("h2",{attrs:{id:"è‡ªå®šä¹‰-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è‡ªå®šä¹‰-plugin"}},[e._v("#")]),e._v(" è‡ªå®šä¹‰ plugin")]),e._v(" "),a("h2",{attrs:{id:"corejs2-å’Œ-corejs3-çš„åŒºåˆ«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#corejs2-å’Œ-corejs3-çš„åŒºåˆ«"}},[e._v("#")]),e._v(" corejs2 å’Œ corejs3 çš„åŒºåˆ«")]),e._v(" "),a("p",[e._v("core-js@2 åˆ†æ”¯ä¸­ä¸åŒ…å«ä¸€äº›æœ€æ–°çš„å®ä¾‹æ–¹æ³•ç‰¹æ€§ï¼Œæ–°ç‰¹æ€§éƒ½ä¼šæ·»åŠ åˆ° core-js@3ï¼Œå»ºè®®éƒ½ä½¿ç”¨åè€…ã€‚ä¾‹å¦‚ core-js@2 ä¸åŒ…å« rray.prototype.flat()ã€‚")]),e._v(" "),a("h2",{attrs:{id:"corejs3-å’Œ-babel-runtime-corejs3-çš„åŒºåˆ«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#corejs3-å’Œ-babel-runtime-corejs3-çš„åŒºåˆ«"}},[e._v("#")]),e._v(" corejs3 å’Œ @babel/runtime-corejs3 çš„åŒºåˆ«")]),e._v(" "),a("p",[e._v("å‰è€…çš„ polyfill éƒ½æ˜¯ä¿®æ”¹å…¨å±€å¯¹è±¡çš„ prototype ä¸­çš„ï¼Œåè€…æ˜¯å±€éƒ¨æ–‡ä»¶ä¸­ä»¥å¼•ç”¨çš„å½¢å¼å­˜åœ¨ä¸ä¼šæ±¡æŸ“å…¨å±€å˜é‡ã€‚")]),e._v(" "),a("h2",{attrs:{id:"stage-ä»‹ç»"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#stage-ä»‹ç»"}},[e._v("#")]),e._v(" stage ä»‹ç»")]),e._v(" "),a("ul",[a("li",[e._v("Stage 0 - Strawman: just an idea, possible Babel plugin.")]),e._v(" "),a("li",[e._v("Stage 1 - Proposal: this is worth working on.")]),e._v(" "),a("li",[e._v("Stage 2 - Draft: initial spec.")]),e._v(" "),a("li",[e._v("Stage 3 - Candidate: complete spec and initial browser implementations.")]),e._v(" "),a("li",[e._v("Stage 4 - Finished: will be added to the next yearly release.")])])])}),[],!1,null,null,null);r.default=s.exports}}]);